(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-5 xl:px-0"},[a("div",{staticClass:"grid grid-cols-1 gap-10 md:grid-cols-2 lg:grid-cols-3"},[a("AuthUser",{staticClass:"p-5 bg-white border rounded shadow"}),a("Logout",[e._v("LogOut")]),a("AuthUserForm",{staticClass:"p-5 bg-white border rounded shadow"}),a("UpdatePassword",{staticClass:"p-5 bg-white border rounded shadow"}),a("FileUpload",{staticClass:"p-5 bg-white border rounded shadow",attrs:{label:"Upload Avatar",fileTypes:["image/*"],endpoint:"/users/auth/avatar"},on:{fileUploaded:e.updateUser}})],1)])},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.authUser?a("div",[a("transition",{attrs:{name:"fade"}},[e.authUser.avatar?a("img",{staticClass:"w-16 h-16 rounded-full lg:w-20 lg:h-20",attrs:{src:e.authUser.avatar,alt:""}}):e._e()]),a("ul",[a("li",{staticClass:"mb-1 font-bold"},[e._v(e._s(e.authUser.name))]),a("li",[e._v("Email: "+e._s(e.authUser.email))]),e.authUser.emailVerified?a("li",{staticClass:"text-gray-500"},[e._v(" Emailed Verified ")]):e._e()]),e.authUser.emailVerified?e._e():a("VerifyEmail",{staticClass:"mt-4"})],1):e._e()},l=[],o=a("5530"),i=a("2f62"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.sendVerification.apply(null,arguments)}}},[a("BaseBtn",{attrs:{type:"submit",text:"Verify Email"}})],1),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},d=[],c=a("2fa3"),p=a("68f7"),m=a("b012"),f=a("2f86"),h={name:"UpdatePassword",components:{BaseBtn:p["a"],FlashMessage:f["a"]},data:function(){return{error:null,message:null}},computed:Object(o["a"])({},Object(i["b"])("auth",["authUser"])),methods:{sendVerification:function(){var e=this;this.error=null,this.message=null;var t={user:this.authUser.id};m["a"].sendVerification(t).then((function(){return e.message="Verification email sent."})).catch((function(t){return e.error=Object(c["a"])(t)}))}}},g=h,b=a("2877"),w=Object(b["a"])(g,u,d,!1,null,null,null),v=w.exports,U={name:"AuthUser",components:{VerifyEmail:v},computed:Object(o["a"])({},Object(i["b"])("auth",["authUser"]))},y=U,C=Object(b["a"])(y,n,l,!1,null,null,null),x=C.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.uploadFile.apply(null,arguments)}}},[a("div",{staticClass:"mb-4"},[a("label",{staticClass:"sr-only",attrs:{for:"file"}},[e._v(" "+e._s(e.label)+" ")]),a("input",{attrs:{type:"file",accept:e.fileTypes,id:"file"},on:{change:e.fileChange}})]),a("BaseBtn",{attrs:{text:"Upload"}}),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},B=[],F=a("fce9"),P={uploadFile:function(e){return F["a"].post(e.endpoint,e.file)}},j={name:"FileUpload",props:{fileTypes:{type:Array,default:null},endpoint:{type:String,required:!0},label:{type:String,default:""}},components:{BaseBtn:p["a"],FlashMessage:f["a"]},data:function(){return{file:null,message:null,error:null}},methods:{clearMessage:function(){this.error=null,this.message=null},fileChange:function(e){this.clearMessage(),this.file=e.target.files[0]},uploadFile:function(){var e=this,t={},a=new FormData;a.append("file",this.file),t.file=a,t.endpoint=this.endpoint,this.clearMessage(),P.uploadFile(t).then((function(){e.message="File uploaded.",e.$emit("fileUploaded")})).catch((function(t){return e.error=Object(c["a"])(t)}))}}},O=j,E=Object(b["a"])(O,_,B,!1,null,null,null),M=E.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser.apply(null,arguments)}}},[a("BaseInput",{staticClass:"mb-2",attrs:{type:"text",label:"Name",name:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("BaseInput",{staticClass:"mb-4",attrs:{type:"email",label:"Email",name:"email",autocomplete:"email",placeholder:"luke@jedi.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("BaseBtn",{attrs:{type:"submit",text:"Update"}}),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},$=[],A=(a("b0c0"),a("b3b3")),k={name:"AuthUserForm",components:{BaseBtn:p["a"],BaseInput:A["a"],FlashMessage:f["a"]},data:function(){return{name:null,email:null,error:null,message:null}},computed:Object(o["a"])({},Object(i["b"])("auth",["authUser"])),methods:{updateUser:function(){var e=this;this.error=null,this.message=null;var t={name:this.name,email:this.email};m["a"].updateUser(t).then((function(){return e.$store.dispatch("auth/getAuthUser")})).then((function(){return e.message="User updated."})).catch((function(t){return e.error=Object(c["a"])(t)}))}},mounted:function(){this.name=this.authUser.name,this.email=this.authUser.email}},L=k,I=Object(b["a"])(L,V,$,!1,null,null,null),D=I.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.updatePassword.apply(null,arguments)}}},[a("div",{staticClass:"mb-2"},[a("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password"}},[e._v("Current Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPassword,expression:"currentPassword"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"current-password"},domProps:{value:e.currentPassword},on:{input:function(t){t.target.composing||(e.currentPassword=t.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"mb-4"},[a("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password-confirm"}},[e._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirm,expression:"passwordConfirm"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"password-confirm"},domProps:{value:e.passwordConfirm},on:{input:function(t){t.target.composing||(e.passwordConfirm=t.target.value)}}})]),a("BaseBtn",{attrs:{type:"submit",text:"Update"}}),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},T=[],z={name:"UpdatePassword",components:{BaseBtn:p["a"],FlashMessage:f["a"]},data:function(){return{currentPassword:null,password:null,passwordConfirm:null,error:null,message:null}},methods:{updatePassword:function(){var e=this;this.error=null,this.message=null;var t={current_password:this.currentPassword,password:this.password,password_confirmation:this.passwordConfirm};m["a"].updatePassword(t).then((function(){return e.message="Password updated."})).catch((function(t){return e.error=Object(c["a"])(t)}))}}},J=z,S=Object(b["a"])(J,N,T,!1,null,null,null),q=S.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"inline-flex items-center space-x-2",attrs:{type:"button"},on:{click:e.logout}},[a("span",{staticClass:"sm:inline"},[e._v("Logout")]),a("LogoutIcon",{staticClass:"w-6 h-6 text-white"})],1)},G=[],K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z","clip-rule":"evenodd"}})])},Q=[],R={name:"LogoutIcon"},W=R,X=Object(b["a"])(W,K,Q,!1,null,null,null),Y=X.exports,Z={components:{LogoutIcon:Y},name:"Logout",methods:{logout:function(){this.$store.dispatch("auth/logout")}}},ee=Z,te=Object(b["a"])(ee,H,G,!1,null,null,null),ae=te.exports,se={name:"UserView",components:{AuthUser:x,FileUpload:M,AuthUserForm:D,UpdatePassword:q,Logout:ae},methods:{updateUser:function(){this.$store.dispatch("auth/getAuthUser")}}},re=se,ne=Object(b["a"])(re,s,r,!1,null,null,null);t["default"]=ne.exports}}]);
//# sourceMappingURL=user.4f70b106.js.map