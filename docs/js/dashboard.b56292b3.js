(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0cb2":function(e,t,o){var a=o("7b0b"),i=Math.floor,s="".replace,n=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,r=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,o,l,c,d){var u=o+e.length,f=l.length,g=r;return void 0!==c&&(c=a(c),g=n),s.call(d,g,(function(a,s){var n;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,o);case"'":return t.slice(u);case"<":n=c[s.slice(1,-1)];break;default:var r=+s;if(0===r)return a;if(r>f){var d=i(r/10);return 0===d?a:d<=f?void 0===l[d-1]?s.charAt(1):l[d-1]+s.charAt(1):a}n=l[r-1]}return void 0===n?"":n}))}},"107c":function(e,t,o){var a=o("d039");e.exports=a((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1253:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"h-full"},[o("Loading",{attrs:{isLoading:e.loading||e.want_to_read_loading}}),o("FlashMessage",{attrs:{error:e.error,message:e.message}}),o("transition",{attrs:{name:"fade",mode:"out-in"}},[e.loading||null==e.book?e._e():o("div",{staticClass:"p-2"},[o("div",{staticClass:"flex mb-5 p-3"},[o("font-awesome-icon",{staticClass:"font-bold text-xl mr-3",attrs:{icon:"fa-solid fa-arrow-left"},on:{click:e.goBack}}),o("div",{staticClass:"font-semibold"},[e._v(" "+e._s(e.book.title.substring(0,30))+" ")])],1),o("div",{staticClass:"flex p-3 flex-row overflow-hidden"},[o("div",{staticClass:"mr-2"},[o("img",{staticClass:"h-48 w-40 rounded-md object-cover flex-none",attrs:{src:e.book.cover_url,alt:""}})]),o("div",{staticClass:"flex flex-col"},[o("div",{staticClass:"font-semibold"},[e._v(e._s(e.book.title.substring(0,30)))]),o("div",{staticClass:"flex flex-wrap gap-1 overflow-hidden"},e._l(e.book.authors,(function(t){return o("div",{key:t.id,staticClass:"p-1 text-xs"},[e._v(" "+e._s(t.name)+" ")])})),0),o("div",[e._v(" Average Rating "),o("span",{staticClass:"text-blue-500"},[e._v(e._s(Number(e.book.average_rating).toFixed(1)))])]),o("div",{staticClass:"flex mt-3"},[o("button",{staticClass:"pl-2 pr-2 pt-1 pb-1  text-white",class:{"bg-green-500":e.isInToRead,"bg-blue-400":!e.isInToRead},on:{click:e.toggleWantToRead}},[o("span",{staticClass:"mr-2"},[e._v("Want To Read")]),e.isInToRead?o("font-awesome-icon",{attrs:{icon:"fa-solid fa-check"}}):o("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)])])]),o("div",{staticClass:"p-3"},[o("p",[e._v(" "+e._s(e.book.description)+" ")]),o("div",{staticClass:"font-semibold mt-5 mb-2"},[e._v("Categories:")]),o("div",{staticClass:"flex flex-nowrap text-center overflow-scroll bg-white  gap-5 scrollbar-hide"},e._l(e.book.categories,(function(t){return o("div",{key:t.id,staticClass:"bg-blue-400 pl-1 pr-1 flex-none rounded-md text-white"},[e._v(e._s(t.name))])})),0)]),o("div",{staticClass:"p-3"},[o("Reviews",{attrs:{book:e.book}})],1)])])],1)},i=[],s=o("5530"),n=o("2f62"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.reviewed_user_ids.includes(e.authUser.id)?e._e():o("ReviewInput",{on:{"on-review-input-clicked":e.postReview}}),o("div",{staticClass:"flex flex-col"},[e._l(e.book.reviews,(function(t){return o("Review",{key:"r"+t.id,attrs:{review:t},on:{"on-review-update":e.updateReview,"on-review-delete":e.deleteReview}})})),e.book.reviews.length<=0?o("div",{staticClass:"w-full h-20 flex justify-center items-center"},[o("div",[e._v("No reviews yet.")])]):e._e()],2)],1)},l=[],c=(o("d81d"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex flex-none  flex-col p-2 mb-2 border-b"},[o("div",{staticClass:"flex justify-between items-center"},[o("span",{staticClass:"flex-1 font-bold "},[e._v(e._s(e.review.user.name))]),o("div",{staticClass:"flex-1 relative inline-block"},[e.isOwnReview?o("font-awesome-icon",{staticClass:"absolute right-2",attrs:{icon:"fa-solid fa-ellipsis-v"},on:{click:e.toggleMenu}}):e._e(),e.isMenuOpened?o("div",{staticClass:"z-10 mt-8 absolute w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700"},[o("div",{staticClass:"py-1 text-sm text-gray-700 dark:text-gray-200",attrs:{"aria-labelledby":"dropdownDefault"}},[o("div",[o("div",{staticClass:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",attrs:{href:"#"},on:{click:e.onReviewEdit}},[e._v(" Edit")])]),o("div",[o("div",{staticClass:"block text-red-500 py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 ",attrs:{href:"#"},on:{click:e.onReviewDelete}},[e._v("Delete ")])])])]):e._e()],1)]),o("div",[o("div",{staticClass:"flex "},[e._l(e.review.star,(function(e){return o("font-awesome-icon",{key:"star"+e,staticClass:"text-blue-500",attrs:{icon:"fa-solid fa-star"}})})),e._l(5-e.review.star,(function(t){return o("font-awesome-icon",{key:e.review.id+"s"+t,attrs:{icon:"fa-regular fa-star"}})}))],2)]),o("div",{staticClass:"text-sm text-gray-400"},[e._v(" "+e._s(e.review.created_at)+" ")]),o("div",{staticClass:"mt-2"},[e._v(e._s(e.review.body))]),o("ConfirmDialog",{attrs:{isClosed:e.isDeleteReviewDialogClosed},on:{"on-dialog-close":e.onToggleDeleteDialog,"on-dialog-confirm":e.onDeleteReviewConfirmed}}),e.isOwnReview?o("ReviewDialog",{attrs:{review:e.review,isClosed:e.isEditReviewDialogClosed},on:{"on-review-confirm":e.onEditReviewConfirmed,"on-dialog-close":e.onToggleEditDialog}}):e._e()],1)}),d=[],u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"fixed z-50 w-full h-full top-0 left-0 bg-white rounded-md px-8 py-6 space-y-5 drop-shadow-lg",class:{hidden:e.isClosed}},[o("h1",{staticClass:"text-2xl font-semibold"},[e._v(e._s(e.review?"Edit review":"Write a review"))]),o("div",{staticClass:"py-5 border-t border-b border-gray-300 mb-8"},[o("div",{staticClass:"mb-5 mt-3"},[o("div",{staticClass:"text-blue-400 text-sm mb-3 font-semibold"},[e._v("On a scale of 1 to 5 , how much did you liked the book?")]),o("div",{staticClass:"flex p-3 gap-5 pl-0"},e._l(5,(function(t){return o("div",{key:t},[t>e.currentStar?o("font-awesome-icon",{staticClass:"flex-1",attrs:{icon:"fa-regular fa-star"},on:{click:function(o){return e.updateStar(t)}}}):o("font-awesome-icon",{staticClass:"flex-1",attrs:{icon:"fa-solid fa-star"},on:{click:function(o){return e.updateStar(t)}}})],1)})),0)]),o("div",[o("div",{staticClass:"mb-3 text-sm text-blue-400 font-semibold"},[e._v("How you liked the book?")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentReviewText,expression:"currentReviewText"}],staticClass:"w-full border-blue-500",domProps:{value:e.currentReviewText},on:{input:function(t){t.target.composing||(e.currentReviewText=t.target.value)}}})])]),o("div",{staticClass:"flex justify-end gap-4"},[o("button",{staticClass:"px-5 py-2 bg-gray-500 hover:bg-gray-700 text-white cursor-pointer rounded-md",on:{click:function(t){return t.stopPropagation(),e.onCancelButtonClicked.apply(null,arguments)}}},[e._v(" Cancel")]),o("button",{staticClass:"px-7 py-2 bg-indigo-500 hover:bg-indigo-700 text-white cursor-pointer rounded-md",on:{click:function(t){return t.stopPropagation(),e.onConfirmButtonClicked.apply(null,arguments)}}},[e._v(" "+e._s(e.review?"Edit Review":"Post Review")+" Review")])])])])},f=[],g={name:"ReviewDialog",props:{review:{type:Object,default:null},isClosed:{type:Boolean,default:!0}},data:function(){return{currentReviewText:"",currentStar:0}},mounted:function(){this.review&&(this.currentReviewText=this.review.body,this.currentStar=this.review.star)},methods:{onConfirmButtonClicked:function(){var e={star:this.currentStar>0?this.currentStar:null,body:this.currentReviewText};this.$emit("on-review-confirm",e),this.currentReviewText="",this.currentStar=0},onCancelButtonClicked:function(){this.$emit("on-dialog-close")},updateStar:function(e){this.currentStar=e}}},h=g,v=o("2877"),p=Object(v["a"])(h,u,f,!1,null,null,null),m=p.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"w-full h-full flex flex-col items-center justify-center bg-black top-0 left-0 fixed bg-opacity-50",class:{hidden:e.isClosed}},[o("div",{staticClass:" overflow-y-auto overflow-x-hidden fixed top-52 right-0 left-0 z-50 md:inset-0 h-modal md:h-full",attrs:{tabindex:"-1"}},[o("div",{staticClass:"relative p-4 w-full max-w-md h-full md:h-auto"},[o("div",{staticClass:"relative bg-white rounded-lg shadow dark:bg-gray-700"},[o("button",{staticClass:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",attrs:{type:"button","data-modal-toggle":"popup-modal"},on:{click:e.onCancelButtonClicked}},[o("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})]),o("span",{staticClass:"sr-only"},[e._v("Close modal")])]),o("div",{staticClass:"p-6 text-center"},[o("svg",{staticClass:"mx-auto mb-4 w-14 h-14 text-gray-400 dark:text-gray-200",attrs:{"aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),o("h3",{staticClass:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"},[e._t("body",(function(){return[e._v("Are you sure?")]}))],2),o("button",{staticClass:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",attrs:{"data-modal-toggle":"popup-modal",type:"button"},on:{click:e.onConfirmButtonClicked}},[e._t("confirm",(function(){return[e._v("Confirm")]}))],2),o("button",{staticClass:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",attrs:{"data-modal-toggle":"popup-modal",type:"button"},on:{click:e.onCancelButtonClicked}},[e._v("No, "),e._t("cancel",(function(){return[e._v("Cancel")]}))],2)])])])])])},k=[],w={name:"ConfirmDialog",props:{isClosed:{type:Boolean,default:!0}},data:function(){return{}},mounted:function(){},methods:{onConfirmButtonClicked:function(){this.$emit("on-dialog-confirm")},onCancelButtonClicked:function(){this.$emit("on-dialog-close")}}},_=w,x=Object(v["a"])(_,b,k,!1,null,null,null),C=x.exports,y={name:"Review",components:{ReviewDialog:m,ConfirmDialog:C},props:["review"],computed:Object(s["a"])(Object(s["a"])({},Object(n["b"])("auth",["authUser"])),{},{isOwnReview:function(){return this.review.user.id==this.authUser.id}}),data:function(){return{isEditReviewDialogClosed:!0,isDeleteReviewDialogClosed:!0,isMenuOpened:!1}},methods:{onToggleEditDialog:function(){this.isEditReviewDialogClosed=!this.isEditReviewDialogClosed},onToggleDeleteDialog:function(){this.isDeleteReviewDialogClosed=!this.isDeleteReviewDialogClosed},onEditReviewConfirmed:function(e){e.review_id=this.review.id,this.$emit("on-review-update",e)},onDeleteReviewConfirmed:function(){this.$emit("on-review-delete",this.review)},toggleMenu:function(){this.isMenuOpened=!this.isMenuOpened},onReviewEdit:function(){this.toggleMenu(),this.onToggleEditDialog()},onReviewDelete:function(){this.toggleMenu(),this.onToggleDeleteDialog()}},watch:{isEditReviewDialogClosed:function(){console.log(this.isEditReviewDialogClosed)}}},R=y,B=Object(v["a"])(R,c,d,!1,null,null,null),T=B.exports,$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"flex justify-between mb-5 items-center"},[o("div",{staticClass:"font-semibold"},[e._v("Reviews:")]),o("div",{staticClass:"text-blue-500 font-semibold cursor-pointer p-1 border-blue-500 border-2 rounded-sm",on:{click:e.toggleDialog}},[e._v("Post Review")])]),o("ReviewDialog",{attrs:{isClosed:e.isDialogClosed},on:{"on-review-confirm":e.onPostReviewClick,"on-dialog-close":e.onCloseDialogClicked}})],1)},E=[],j={name:"ReviewInput",components:{ReviewDialog:m},methods:{onPostReviewClick:function(e){this.$emit("on-review-input-clicked",e),this.currentReviewText=""},toggleDialog:function(){this.isDialogClosed=!this.isDialogClosed},onCloseDialogClicked:function(){this.isDialogClosed=!0}},data:function(){return{isDialogClosed:!0}}},D=j,O=Object(v["a"])(D,$,E,!1,null,null,null),S=O.exports,L={name:"Reviews",components:{Review:T,ReviewInput:S},props:["book"],data:function(){return{reviewStar:0}},computed:Object(s["a"])(Object(s["a"])({},Object(n["b"])("auth",["authUser"])),{},{reviewed_user_ids:function(){return this.book.reviews.map((function(e){return e.user.id}))}}),methods:{postReview:function(e){e.book_id=this.book.id,this.$store.dispatch("bookDetail/postReview",e)},updateReview:function(e){this.$store.dispatch("bookDetail/updateReview",e)},deleteReview:function(e){this.$store.dispatch("bookDetail/deleteReview",e)}}},M=L,F=Object(v["a"])(M,r,l,!1,null,null,null),I=F.exports,A=o("2f86"),W=o("3a5e"),P=o("a440"),N={name:"BookDetail",components:{Reviews:I,FlashMessage:A["a"],Loading:W["a"]},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["b"])("bookDetail",["loading","error","book","message"])),Object(n["b"])("wantToRead",["want_to_reads","user_want_to_reads","want_to_read_loading","want_to_read_error"])),{},{isInToRead:function(){return!(this.user_want_to_reads.length<=0)}}),created:function(){this.getWantToReads(),this.$store.dispatch("bookDetail/getBook",this.$route.params.id)},watch:{},methods:{goBack:function(){this.$router.go(-1)},toggleWantToRead:function(){var e=this;this.isInToRead?P["a"].deleteWantToRead({book_id:this.book.id}).then((function(){e.getWantToReads(),e.$store.dispatch("bookDetail/setMessage","Removed from want to read list.")})):P["a"].storeWantToRead({book_id:this.book.id}).then((function(){e.getWantToReads(),e.$store.dispatch("bookDetail/setMessage","Added to want to read list.")}))},getWantToReads:function(){this.$store.dispatch("wantToRead/getWantToRead",{book_id:this.$route.params.id})}},unmounted:function(){this.$store.dispatch("bookDetail/setBookValue",null)}},U=N,z=Object(v["a"])(U,a,i,!1,null,null,null);t["default"]=z.exports},"14c3":function(e,t,o){var a=o("c6b6"),i=o("9263");e.exports=function(e,t){var o=e.exec;if("function"===typeof o){var s=o.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"25f0":function(e,t,o){"use strict";var a=o("6eeb"),i=o("825a"),s=o("d039"),n=o("ad6d"),r="toString",l=RegExp.prototype,c=l[r],d=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=r;(d||u)&&a(RegExp.prototype,r,(function(){var e=i(this),t=String(e.source),o=e.flags,a=String(void 0===o&&e instanceof RegExp&&!("flags"in l)?n.call(e):o);return"/"+t+"/"+a}),{unsafe:!0})},"2f86":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bottom-12 fixed w-full left-0",class:{"bottom-0":!e.isLoggedIn}},[o("transition-group",{attrs:{name:"fade"}},[e.dataMessage?o("p",{key:"error",staticClass:"mt-2 text-sm bg-green-400 pb-2 pt-2 text-white w-full flex flex-col items-start"},[o("span",{staticClass:"ml-2"},[e._v(e._s(e.dataMessage))])]):e._e(),e.dataError&&"string"===e.getType(e.dataError)?o("p",{key:"error",staticClass:"mt-2 text-sm bg-red-400 pb-2 pt-2 text-white w-full flex flex-col items-start"},[o("span",{staticClass:"ml-2"},[e._v(e._s(e.dataError))])]):e._e(),"object"===e.getType(e.dataError)?o("ul",{key:"error-list",staticClass:"mt-2 text-sm bg-red-400 pb-2 pt-2 text-white w-full flex flex-col items-start"},e._l(e.errorKeys,(function(t){return o("li",{key:t},[o("ul",{staticClass:"ml-2 mb-1"},e._l(e.getErrors(t),(function(t,a){return o("li",{key:a+"-error",staticClass:"transition-opacity ease-in duration-700 opacity-100 hover:opacity-0"},[e._v(" "+e._s(t)+" ")])})),0)])})),0):e._e()])],1)},i=[],s=(o("fb6a"),o("b64b"),o("d3b7"),o("ac1f"),o("25f0"),o("5319"),{name:"FlashMessage",props:{message:{type:String,default:null},error:{type:[Object,String],default:null},isLoggedIn:{type:Boolean,default:!0}},data:function(){return{dataMessage:null,dataError:null}},computed:{errorKeys:function(){return this.dataError&&"string"!==this.getType(this.dataError)?Object.keys(this.dataError):null}},watch:{error:function(){var e=this;this.dataError=this.error,setTimeout((function(){e.dataError=null}),2e3)},message:function(){var e=this;this.dataMessage=this.message,setTimeout((function(){e.dataMessage=null}),2e3)}},methods:{getErrors:function(e){return this.dataError[e]},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}},filters:{titleCase:function(e){return e.replace("_"," ")}}}),n=s,r=o("2877"),l=Object(r["a"])(n,a,i,!1,null,null,null);t["a"]=l.exports},"38c0":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex w-full h-full"},[o("Loading",{attrs:{isLoading:e.want_to_read_loading}}),o("FlashMessage",{attrs:{error:e.want_to_read_error,message:e.message}}),o("transition",{attrs:{name:"fade",mode:"out-in"}},[e.want_to_reads.length>0?o("div",{ref:"wantToReadPagination",staticClass:"flex flex-col gap-3 w-full h-full",on:{scroll:e.onScroll}},e._l(e.want_to_reads,(function(t){return o("HorizontalBook",{key:t.id,staticClass:"w-full h-40",attrs:{book:t},on:{"on-book-remove-clicked":e.removeWantToRead,"on-book-clicked":e.onBookClicked}})})),1):e._e()]),o("transition",{attrs:{name:"fade"}},[e.want_to_read_error?o("FlashMessage",{key:"want_to_read_error",attrs:{error:e.want_to_read_error}}):e._e()],1),!e.want_to_read_loading&&e.want_to_reads.length<=0?o("div",{staticClass:"w-full h-full flex flex-col items-center justify-center mt-60 font-semibold"},[o("div",[e._v("Please add some of your favorite books")]),o("div",[e._v("To enjoy them later :)")])]):e._e()],1)},i=[],s=o("5530"),n=o("2f62"),r=o("2f86"),l=o("3a5e"),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{staticClass:"w-full h-44",attrs:{duration:{enter:500,leave:800}}},[o("div",{staticClass:"shadow-md h-44 w-full flex flex-none  flex-row",on:{click:function(t){return e.$emit("on-book-clicked",e.book)}}},[o("img",{staticClass:"h-44 w-36 rounded-md object-cover flex-none",attrs:{src:e.book.cover_url,alt:""}}),o("div",{staticClass:"p-2 w-full"},[o("div",{staticClass:"font-semibold"},[e._v(e._s(e.book.title.substring(0,20)))]),o("div",{staticClass:"text-blue-500"},[e._v(e._s(e.book.price))]),o("div",[o("div",{staticClass:"flex gap-1 overflow-hidden"},e._l(e.book.authors,(function(t,a){return o("div",{key:t.id,staticClass:"p-1 text-xs"},[e._v(" "+e._s(t.name)+" "+e._s(a!=e.book.authors.length-1?",":"")+" ")])})),0)]),o("div",[o("button",{staticClass:"pl-1 rounded-sm pr-1 border-red-400 border-2 ",on:{click:function(t){return t.stopPropagation(),e.$emit("on-book-remove-clicked",e.book)}}},[o("span",{staticClass:"mr-2"},[e._v("Remove")]),o("font-awesome-icon",{staticClass:"text-black",attrs:{icon:"fa-solid fa-trash-can"}})],1)])])])])},d=[],u={name:"HorizontalBook",props:["book"]},f=u,g=o("2877"),h=Object(g["a"])(f,c,d,!1,null,null,null),v=h.exports,p=o("a440"),m={name:"WantToReadView",components:{FlashMessage:r["a"],Loading:l["a"],HorizontalBook:v},data:function(){return{isWantToReadsFetching:!1,message:null}},computed:Object(s["a"])({},Object(n["b"])("wantToRead",["want_to_reads","want_to_read_error","want_to_read_loading","meta","links","current_page"])),created:function(){var e=this;this.want_to_reads.length>0||(this.$store.dispatch("wantToRead/setCurrentPage",1),this.$store.dispatch("wantToRead/clearWantToReads"),this.getWantToReads(),window.addEventListener("scroll",(function(){e.onScroll()})))},watch:{want_to_read_loading:function(){this.want_to_read_loading||(this.isWantToReadsFetching=!1)}},methods:{removeWantToRead:function(e){var t=this;this.$store.dispatch("wantToRead/setLoading",!0),p["a"].deleteWantToRead({book_id:e.id}).then((function(){t.message="Removed book from the list",t.$store.dispatch("wantToRead/removeWantToRead",{book_id:e.id}),t.$store.dispatch("wantToRead/setLoading",!1),t.$store.dispatch("wantToRead/setMessage","Removed from want to read list.")})).catch((function(){t.$store.dispatch("wantToRead/setLoading",!1)}))},getWantToReads:function(){this.$store.dispatch("wantToRead/getWantToReads",{page:this.current_page})},onScroll:function(){var e=document.documentElement.getBoundingClientRect().bottom;e>document.documentElement.clientHeight+100||this.isWantToReadsFetching||this.current_page>=this.meta.last_page||(this.$store.dispatch("wantToRead/setCurrentPage",this.current_page+1),this.isWantToReadsFetching=!0,this.getWantToReads())},onBookClicked:function(e){this.$router.push({name:"want-to-read-book-detail",params:{id:e.id}})}}},b=m,k=Object(g["a"])(b,a,i,!1,null,null,null);t["default"]=k.exports},"3a5e":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"w-full h-full flex flex-col items-center justify-center fixed",class:{hidden:!e.isLoading,"bg-black bg-opacity-40":e.hasOverlay}},[o("font-awesome-icon",{staticClass:"animate-spin w-12 h-12 text-blue-600",attrs:{icon:"fa-solid fa-spinner"}})],1)},i=[],s={name:"Loading",props:{isLoading:{type:Boolean,default:!1},hasOverlay:{type:Boolean,default:!0}}},n=s,r=o("2877"),l=Object(r["a"])(n,a,i,!1,null,null,null);t["a"]=l.exports},4886:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"h-full"},[o("Loading",{attrs:{isLoading:e.loading}}),o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("div",{staticClass:"grid grid-cols-2 gap-3 auto-rows-fr p-2"},e._l(e.all_categories,(function(t){return o("div",{key:t.id,staticClass:"p-3 flex justify-center items-center box-decoration-slice bg-gradient-to-r from-blue-400 to-green-500 text-white",on:{click:function(o){return e.onCategoryClicked(t)}}},[o("span",[e._v(e._s(t.name))])])})),0)]),o("transition",{attrs:{name:"fade"}},[e.error?o("FlashMessage",{key:"error",attrs:{error:e.error}}):e._e()],1)],1)},i=[],s=o("5530"),n=o("2f62"),r=o("2f86"),l=o("3a5e"),c={name:"Categories",components:{FlashMessage:r["a"],Loading:l["a"]},computed:Object(s["a"])({},Object(n["b"])("category",["loading","error","all_categories"])),created:function(){this.$store.dispatch("category/getAllCategories")},watch:{},methods:{onCategoryClicked:function(e){this.$router.push({name:"category-detail",params:{id:e.id}})}}},d=c,u=o("2877"),f=Object(u["a"])(d,a,i,!1,null,null,null);t["default"]=f.exports},5319:function(e,t,o){"use strict";var a=o("d784"),i=o("d039"),s=o("825a"),n=o("50c4"),r=o("a691"),l=o("1d80"),c=o("8aa5"),d=o("0cb2"),u=o("14c3"),f=o("b622"),g=f("replace"),h=Math.max,v=Math.min,p=function(e){return void 0===e?e:String(e)},m=function(){return"$0"==="a".replace(/./,"$0")}(),b=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),k=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,o){var a=b?"$":"$0";return[function(e,o){var a=l(this),i=void 0==e?void 0:e[g];return void 0!==i?i.call(e,a,o):t.call(String(a),e,o)},function(e,i){if("string"===typeof i&&-1===i.indexOf(a)&&-1===i.indexOf("$<")){var l=o(t,this,e,i);if(l.done)return l.value}var f=s(this),g=String(e),m="function"===typeof i;m||(i=String(i));var b=f.global;if(b){var k=f.unicode;f.lastIndex=0}var w=[];while(1){var _=u(f,g);if(null===_)break;if(w.push(_),!b)break;var x=String(_[0]);""===x&&(f.lastIndex=c(g,n(f.lastIndex),k))}for(var C="",y=0,R=0;R<w.length;R++){_=w[R];for(var B=String(_[0]),T=h(v(r(_.index),g.length),0),$=[],E=1;E<_.length;E++)$.push(p(_[E]));var j=_.groups;if(m){var D=[B].concat($,T,g);void 0!==j&&D.push(j);var O=String(i.apply(void 0,D))}else O=d(B,g,T,$,j,i);T>=y&&(C+=g.slice(y,T)+O,y=T+B.length)}return C+g.slice(y)}]}),!k||!m||b)},6547:function(e,t,o){var a=o("a691"),i=o("1d80"),s=function(e){return function(t,o){var s,n,r=String(i(t)),l=a(o),c=r.length;return l<0||l>=c?e?"":void 0:(s=r.charCodeAt(l),s<55296||s>56319||l+1===c||(n=r.charCodeAt(l+1))<56320||n>57343?e?r.charAt(l):s:e?r.slice(l,l+2):n-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},7277:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Books")],1)},i=[],s=o("5530"),n=o("2f62"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"h-full"},[e.loading&&!(e.books.length>0||e.recommended_books.length>0)?o("Loading",{attrs:{isLoading:!0}}):o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("div",{staticClass:"p-2"},[o("div",[o("div",{staticClass:"flex flex-nowrap text-center overflow-scroll sticky top-0 bg-white border-b-2 gap-5 border-gray-300 scrollbar-hide"},e._l(e.all_languages,(function(t){return o("div",{key:t.id,staticClass:"focus-within:pt-3 flex-grow w-20 flex-none cursor-pointer flex justify-center",on:{click:function(o){return e.onLanguageTabClicked(t)}}},[o("div",{staticClass:"border-b-2 pl-2 pr-2 font-bold",class:{"border-blue-400 text-blue-600":e.current_tab==t.id}},[e._v(" "+e._s(t.name)+" ")])])})),0),o("div",{staticClass:"p-3"},[o("div",{staticClass:"flex justify-between mt-5 mb-2"},[o("div",{staticClass:"font-bold"},[e._v("Popular Books")]),o("font-awesome-icon",{attrs:{icon:"fa-solid fa-arrow-right"}})],1),e.books.length>0?o("div",{ref:"topBookScroller",staticClass:"flex flex-row overflow-scroll h-60 gap-3 bg-scroll scrollbar-hide",class:{"animate-pulse":e.isTopBooksFetching},on:{scroll:e.onPopularBooksScroll}},[e._l(e.books,(function(t){return o("Book",{key:t.id,staticClass:"w-24",attrs:{book:t},on:{"on-book-clicked":function(o){return e.onBookClicked(t)}}})})),o("div",{staticClass:"pr-6 pl-6 flex items-center justify-center"},[this.current_top_page>=e.meta.last_page&&!e.isTopBooksFetching&&e.books.length>0?o("div",{staticClass:"mb-10 text-blue-500"},[e._v(" No More Books! ")]):e._e()])],2):e._e(),!e.loading&&e.books.length<=0?o("div",{staticClass:"h-52 flex justify-center items-center"},[o("div",{staticClass:"text-blue-500"},[e._v(" No Books Found! ")])]):e._e()]),o("div",{staticClass:"p-3"},[o("div",{staticClass:"flex justify-between mt-5 mb-2"},[o("div",{staticClass:"font-bold"},[e._v(" Recommended Books ")]),o("font-awesome-icon",{attrs:{icon:"fa-solid fa-arrow-right"}})],1),e.recommended_books.length>0?o("div",{ref:"recommendedBookScroller",staticClass:"flex flex-row overflow-scroll h-60 gap-3 bg-scroll scrollbar-hide",class:{"animate-pulse":e.isRecommendedBooksFetching},on:{scroll:e.onRecommendedBooksScroll}},[e._l(e.recommended_books,(function(t){return o("Book",{key:"rec"+t.id,staticClass:"w-24",attrs:{book:t},on:{"on-book-clicked":function(o){return e.onBookClicked(t)}}})})),o("div",{staticClass:"pr-6 pl-6 flex items-center justify-center"},[this.current_recommended_page==e.recommended_meta.last_page?o("div",{staticClass:"mb-10 text-blue-500"},[e._v(" No More Books ")]):e._e()])],2):e._e(),!e.loading&&e.recommended_books.length<=0?o("div",{staticClass:"h-52 flex justify-center items-center"},[o("div",{staticClass:"text-blue-500"},[e._v(" No Books Found! ")])]):e._e()])])])])],1)},l=[],c=(o("b0c0"),o("96cf"),o("1da1")),d=o("c71c"),u=o("3a5e"),f={name:"Books",components:{Book:d["a"],Loading:u["a"]},data:function(){return{isTopBooksFetching:!1,isRecommendedBooksFetching:!1}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["b"])("book",["loading","error","books","meta","links","current_top_page","current_recommended_page","current_tab","recommended_books","recommended_meta","recommended_links"])),Object(n["b"])("language",["all_languages"])),Object(n["b"])("auth",["authUser"])),created:function(){this.books.length>0||(this.getAuthInfoAndReroute(),this.$store.dispatch("language/getLanguages"),this.updateTopBooks(),this.updateRecommendedBooks())},watch:{loading:function(){this.loading||(this.isTopBooksFetching=this.isRecommendedBooksFetching=!1)}},methods:{getAuthInfoAndReroute:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/getAuthUser");case 2:if(o=t.sent,!o){t.next=7;break}0==o.categories_count&&(console.log("updating"),e.$router.push("/update-category")),t.next=10;break;case 7:throw a=Error("Unable to fetch user after login, check your API settings."),a.name="Fetch User",a;case 10:case"end":return t.stop()}}),t)})))()},onLanguageTabClicked:function(e){this.$store.dispatch("book/setCurrentTab",e.id),this.$store.dispatch("book/setCurrentTopPage",1),this.$store.dispatch("book/setCurrentRecommendedPage",1),this.updateTopBooks(!1),this.updateRecommendedBooks(!1)},updateTopBooks:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("book/getBooks",{page:this.current_top_page,languages:[this.current_tab],isPaginated:e})},updateRecommendedBooks:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("book/getRecommendedBooks",{page:this.current_recommended_page,languages:[this.current_tab],isPaginated:e})},onPopularBooksScroll:function(){if(!this.isTopBooksFetching){var e=this.$refs.topBookScroller;if(e.scrollWidth-30<=e.scrollLeft+e.offsetWidth){if(this.current_top_page>=this.meta.last_page)return;this.$store.dispatch("book/setCurrentTopPage",this.current_top_page+1),this.isTopBooksFetching=!0,this.updateTopBooks()}}},onRecommendedBooksScroll:function(){if(!this.isRecommendedBooksFetching){var e=this.$refs.recommendedBookScroller;if(e.scrollWidth-30<=e.scrollLeft+e.offsetWidth){if(this.current_recommended_page>=this.recommended_meta.last_page)return;this.$store.dispatch("book/setCurrentRecommendedPage",this.current_recommended_page+1),this.isRecommendedBooksFetching=!0,this.updateRecommendedBooks()}}},onBookClicked:function(e){this.$router.push({name:"book-detail",params:{id:e.id}})}}},g=f,h=o("2877"),v=Object(h["a"])(g,r,l,!1,null,null,null),p=v.exports,m={name:"Dashboard",components:{Books:p},computed:Object(s["a"])({},Object(n["b"])("auth",["authUser"]))},b=m,k=Object(h["a"])(b,a,i,!1,null,null,null);t["default"]=k.exports},"8aa5":function(e,t,o){"use strict";var a=o("6547").charAt;e.exports=function(e,t,o){return t+(o?a(e,t).length:1)}},9263:function(e,t,o){"use strict";var a=o("ad6d"),i=o("9f7f"),s=o("5692"),n=o("7c73"),r=o("69f3").get,l=o("fce3"),c=o("107c"),d=RegExp.prototype.exec,u=s("native-string-replace",String.prototype.replace),f=d,g=function(){var e=/a/,t=/b*/g;return d.call(e,"a"),d.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),h=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=void 0!==/()??/.exec("")[1],p=g||v||h||l||c;p&&(f=function(e){var t,o,i,s,l,c,p,m=this,b=r(m),k=b.raw;if(k)return k.lastIndex=m.lastIndex,t=f.call(k,e),m.lastIndex=k.lastIndex,t;var w=b.groups,_=h&&m.sticky,x=a.call(m),C=m.source,y=0,R=e;if(_&&(x=x.replace("y",""),-1===x.indexOf("g")&&(x+="g"),R=String(e).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==e[m.lastIndex-1])&&(C="(?: "+C+")",R=" "+R,y++),o=new RegExp("^(?:"+C+")",x)),v&&(o=new RegExp("^"+C+"$(?!\\s)",x)),g&&(i=m.lastIndex),s=d.call(_?o:m,R),_?s?(s.input=s.input.slice(y),s[0]=s[0].slice(y),s.index=m.lastIndex,m.lastIndex+=s[0].length):m.lastIndex=0:g&&s&&(m.lastIndex=m.global?s.index+s[0].length:i),v&&s&&s.length>1&&u.call(s[0],o,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&w)for(s.groups=c=n(null),l=0;l<w.length;l++)p=w[l],c[p[0]]=s[p[1]];return s}),e.exports=f},"9f7f":function(e,t,o){var a=o("d039"),i=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=a((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,o){"use strict";var a=o("23e7"),i=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,o){"use strict";var a=o("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c71c:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex flex-none  flex-col",on:{click:function(t){return e.$emit("on-book-clicked",e.book)}}},[o("img",{staticClass:"h-3/5 rounded-md object-cover flex-none",attrs:{src:e.book.cover_url,alt:""}}),o("div",[e._v("Rating "),o("span",{staticClass:"text-blue-500"},[e._v(e._s(Number(e.book.average_rating).toFixed(1)))])]),o("div",{staticClass:"font-semibold"},[e._v(e._s(e.book.title.substring(0,20)))])])},i=[],s={name:"Book",props:["book"]},n=s,r=o("2877"),l=Object(r["a"])(n,a,i,!1,null,null,null);t["a"]=l.exports},d784:function(e,t,o){"use strict";o("ac1f");var a=o("6eeb"),i=o("9263"),s=o("d039"),n=o("b622"),r=o("9112"),l=n("species"),c=RegExp.prototype;e.exports=function(e,t,o,d){var u=n(e),f=!s((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),g=f&&!s((function(){var t=!1,o=/a/;return"split"===e&&(o={},o.constructor={},o.constructor[l]=function(){return o},o.flags="",o[u]=/./[u]),o.exec=function(){return t=!0,null},o[u](""),!t}));if(!f||!g||o){var h=/./[u],v=t(u,""[e],(function(e,t,o,a,s){var n=t.exec;return n===i||n===c.exec?f&&!s?{done:!0,value:h.call(t,o,a)}:{done:!0,value:e.call(o,t,a)}:{done:!1}}));a(String.prototype,e,v[0]),a(c,u,v[1])}d&&r(c[u],"sham",!0)}},d81d:function(e,t,o){"use strict";var a=o("23e7"),i=o("b727").map,s=o("1dde"),n=s("map");a({target:"Array",proto:!0,forced:!n},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},f7dd:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"w-full h-full"},[o("Loading",{attrs:{isLoading:e.loading}}),e.loading?e._e():o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("div",{staticClass:"p-5"},[o("div",{staticClass:"flex mb-5"},[o("font-awesome-icon",{staticClass:"font-bold text-xl mr-3",attrs:{icon:"fa-solid fa-arrow-left"},on:{click:e.goBack}}),o("div",[e._v(" "+e._s(e.category.name)+" ")])],1),o("div",{staticClass:"grid gap-2 grid-cols-3"},e._l(e.books,(function(t){return o("Book",{key:t.id,staticClass:"h-52",attrs:{book:t},on:{"on-book-clicked":e.onBookClicked}})})),1)])]),o("transition",{attrs:{name:"fade"}},[e.error?o("FlashMessage",{key:"error",attrs:{error:e.error}}):e._e()],1)],1)},i=[],s=(o("ac1f"),o("5319"),o("5530")),n=o("2f62"),r=o("2f86"),l=o("c71c"),c=o("3a5e"),d={name:"CategoryDetail",components:{FlashMessage:r["a"],Book:l["a"],Loading:c["a"]},computed:Object(s["a"])({},Object(n["b"])("categoryDetail",["loading","error","category","books","books_meta","books_links","message","current_page"])),data:function(){return{isBooksFetching:!1}},created:function(){var e=this;this.books.length>0||(this.$store.dispatch("categoryDetail/getCategory",this.$route.params.id),this.getBooks(),window.addEventListener("scroll",(function(){e.onScroll()})))},watch:{loading:function(){this.loading||(this.isBooksFetching=!1)}},methods:{goBack:function(){this.$router.replace({path:"/category"})},onBookClicked:function(e){this.$router.push({name:"category-book-detail",params:{id:e.id}})},getBooks:function(){this.$store.dispatch("categoryDetail/getCategoryBooks",{page:this.current_page,category_id:this.$route.params.id})},onScroll:function(){var e=document.documentElement.getBoundingClientRect().bottom;e>document.documentElement.clientHeight+100||this.isBooksFetching||this.current_page>=this.books_meta.last_page||(this.$store.dispatch("categoryDetail/setCurrentPage",this.current_page+1),this.isBooksFetching=!0,this.getBooks())}}},u=d,f=o("2877"),g=Object(f["a"])(u,a,i,!1,null,null,null);t["default"]=g.exports},fb6a:function(e,t,o){"use strict";var a=o("23e7"),i=o("861d"),s=o("e8b5"),n=o("23cb"),r=o("50c4"),l=o("fc6a"),c=o("8418"),d=o("b622"),u=o("1dde"),f=u("slice"),g=d("species"),h=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var o,a,d,u=l(this),f=r(u.length),p=n(e,f),m=n(void 0===t?f:t,f);if(s(u)&&(o=u.constructor,"function"!=typeof o||o!==Array&&!s(o.prototype)?i(o)&&(o=o[g],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return h.call(u,p,m);for(a=new(void 0===o?Array:o)(v(m-p,0)),d=0;p<m;p++,d++)p in u&&c(a,d,u[p]);return a.length=d,a}})},fce3:function(e,t,o){var a=o("d039");e.exports=a((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=dashboard.b56292b3.js.map