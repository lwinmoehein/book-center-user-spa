(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-5 xl:px-0"},[t._m(0),e("div",{staticClass:"grid grid-cols-1 gap-10 lg:justify-items-center"},[e("AuthUser",{staticClass:"p-5 border rounded"}),e("AuthUserForm",{staticClass:"p-5 border rounded"}),e("UpdatePassword",{staticClass:"p-5 border rounded"}),e("Logout")],1)])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-3 mb-3 sticky top-0 left-0 bg-white"},[e("p",{staticClass:"font-bold text-blue-800 text-xl mb-2"},[t._v("Settings")]),e("hr")])}],o=function(){var t=this,e=t._self._c;return t.authUser?e("div",{staticClass:"lg:w-1/2"},[e("ul",[e("li",{staticClass:"mb-1"},[e("span",{staticClass:"font-bold"},[t._v(t._s(t.authUser.name))])]),e("li",[e("span",{staticClass:"font-bold"},[t._v(t._s(t.authUser.email))])]),e("hr",{staticClass:"mt-2"}),t.authUser.emailVerified?e("li",[e("span",[t._v("Account Status : ")]),t._v(" "),e("span",{staticClass:"text-green-500 font-bold"},[t._v("Verified")])]):e("li",{staticClass:"text-gray-500 mt-5"},[t._m(0),e("p",[t._v(" We've sent you an verification link via email.Please click and verify account. ")])])])]):t._e()},l=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"mb-3"},[t._v("Account Status : "),e("span",{staticClass:"text-black font-bold text-red-500"},[t._v("Unverified")])])}],n=s("2f62"),u={name:"AuthUser",components:{},computed:{...Object(n["b"])("auth",["authUser"])}},i=u,d=s("2877"),c=Object(d["a"])(i,o,l,!1,null,null,null),p=c.exports,m=function(){var t=this,e=t._self._c;return e("form",{staticClass:"lg:w-1/2",on:{submit:function(e){return e.preventDefault(),t.updateUser.apply(null,arguments)}}},[e("BaseInput",{staticClass:"mb-2",attrs:{type:"text",label:"Name",name:"name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("BaseInput",{staticClass:"mb-4",attrs:{type:"email",label:"Email",name:"email",autocomplete:"email",placeholder:"luke@jedi.com","is-disabled":!0},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("BaseBtn",{attrs:{type:"submit",text:"Update"}}),e("FlashMessage",{attrs:{message:t.message,error:t.error}})],1)},f=[],b=s("2fa3"),h=s("68f7"),g=s("b3b3"),w=s("b012"),v=s("2f86"),y={name:"AuthUserForm",components:{BaseBtn:h["a"],BaseInput:g["a"],FlashMessage:v["a"]},data(){return{name:null,email:null,error:null,message:null}},computed:{...Object(n["b"])("auth",["authUser"])},methods:{updateUser(){this.error=null,this.message=null;const t={name:this.name,email:this.email};w["a"].updateUser(t).then(()=>this.$store.dispatch("auth/getAuthUser")).then(()=>this.message="User updated.").catch(t=>this.error=Object(b["a"])(t))}},mounted(){this.name=this.authUser.name,this.email=this.authUser.email}},x=y,_=Object(d["a"])(x,m,f,!1,null,null,null),C=_.exports,U=function(){var t=this,e=t._self._c;return e("form",{staticClass:"lg:w-1/2",on:{submit:function(e){return e.preventDefault(),t.updatePassword.apply(null,arguments)}}},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password"}},[t._v("Current Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"current-password"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}})]),e("div",{staticClass:"mb-2"},[e("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password-confirm"}},[t._v("Confirm Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"password-confirm"},domProps:{value:t.passwordConfirm},on:{input:function(e){e.target.composing||(t.passwordConfirm=e.target.value)}}})]),e("BaseBtn",{attrs:{type:"submit",text:"Update"}}),e("FlashMessage",{attrs:{message:t.message,error:t.error}})],1)},k=[],P={name:"UpdatePassword",components:{BaseBtn:h["a"],FlashMessage:v["a"]},data(){return{currentPassword:null,password:null,passwordConfirm:null,error:null,message:null}},methods:{updatePassword(){this.error=null,this.message=null;const t={current_password:this.currentPassword,password:this.password,password_confirmation:this.passwordConfirm};w["a"].updatePassword(t).then(()=>this.message="Password updated.").catch(t=>this.error=Object(b["a"])(t))}}},j=P,B=Object(d["a"])(j,U,k,!1,null,null,null),O=B.exports,S=function(){var t=this,e=t._self._c;return e("button",{staticClass:"lg:w-1/2 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-md font-bold text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",attrs:{type:"button"},on:{click:t.logout}},[t._v(" LogOut ")])},E=[],A={name:"Logout",methods:{logout(){this.$store.dispatch("auth/logout")}}},M=A,L=Object(d["a"])(M,S,E,!1,null,null,null),F=L.exports,I={name:"UserView",components:{AuthUser:p,AuthUserForm:C,UpdatePassword:O,Logout:F},methods:{updateUser(){this.$store.dispatch("auth/getAuthUser")}}},T=I,N=Object(d["a"])(T,a,r,!1,null,null,null);e["default"]=N.exports},"2f86":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bottom-12 fixed w-full left-0 md:left-auto md:bottom-auto md:p-5 md:top-0 md:right-0 md:w-3/12 font-bold",class:{"bottom-0":!t.isLoggedIn}},[e("transition-group",{attrs:{name:"fade"}},[t.dataMessage?e("p",{key:"error",staticClass:"mt-2 text-sm bg-green-400 pb-2 pt-2 text-white w-full flex flex-col items-start md:rounded-md"},[e("span",{staticClass:"ml-2"},[t._v(t._s(t.dataMessage))])]):t._e(),t.dataError&&"string"===t.getType(t.dataError)?e("p",{key:"error",staticClass:"mt-2 text-sm bg-red-400 pb-2 pt-2 text-white w-full flex flex-col items-start md:rounded-md"},[e("span",{staticClass:"ml-2"},[t._v(t._s(t.dataError))])]):t._e(),"object"===t.getType(t.dataError)?e("ul",{key:"error-list",staticClass:"mt-2 text-sm bg-red-400 pb-2 pt-2 text-white w-full flex flex-col items-start md:rounded-md"},t._l(t.errorKeys,(function(s){return e("li",{key:s},[e("ul",{staticClass:"ml-2 mb-1"},t._l(t.getErrors(s),(function(s,a){return e("li",{key:a+"-error",staticClass:"transition-opacity ease-in duration-700 opacity-100 hover:opacity-0"},[t._v(" "+t._s(s)+" ")])})),0)])})),0):t._e()])],1)},r=[],o={name:"FlashMessage",props:{message:{type:String,default:null},error:{type:[Object,String],default:null},isLoggedIn:{type:Boolean,default:!0}},data(){return{dataMessage:null,dataError:null}},computed:{errorKeys(){return this.dataError&&"string"!==this.getType(this.dataError)?Object.keys(this.dataError):null}},watch:{error(){this.dataError=this.error,setTimeout(()=>{this.dataError=null},2e3)},message(){this.dataMessage=this.message,setTimeout(()=>{this.dataMessage=null},2e3)}},methods:{getErrors(t){return this.dataError[t]},getType(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}},filters:{titleCase(t){return t.replace("_"," ")}}},l=o,n=s("2877"),u=Object(n["a"])(l,a,r,!1,null,null,null);e["a"]=u.exports},"68f7":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("button",t._g({staticClass:"px-2.5 py-1.5 border border-transparent text-xs rounded shadow-sm text-white bg-blue-400 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center transition",attrs:{type:t.type}},t.$listeners),[t._v(" "+t._s(t.text)+" ")])},r=[],o={name:"BaseBtn",props:{type:{type:String,default:"submit"},text:{type:String,default:"Submit"}}},l=o,n=s("2877"),u=Object(n["a"])(l,a,r,!1,null,null,null);e["a"]=u.exports},b3b3:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[t.label?e("label",{staticClass:"text-sm text-gray-500",class:{"sr-only":!t.showLabel},attrs:{for:t.name}},[t._v(" "+t._s(t.label)+" ")]):t._e(),e("input",{staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{id:t.name,type:t.type,required:t.required,placeholder:t.placeholder,autocomplete:t.autocomplete,disabled:t.isDisabled},domProps:{value:t.value},on:{input:t.updateValue}})])},r=[],o={name:"BaseInput",inheritAttrs:!1,props:{name:{type:String,required:!0},label:{type:String,default:""},value:{type:[String,Number]},type:{type:String,default:"text"},showLabel:{type:Boolean,default:!0},required:{type:Boolean,default:!1},placeholder:{type:String,default:null},autocomplete:{type:String,default:null},isDisabled:{type:Boolean,default:!1}},methods:{updateValue(t){return this.$emit("input",t.target.value)}}},l=o,n=s("2877"),u=Object(n["a"])(l,a,r,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=user.61eae524.js.map